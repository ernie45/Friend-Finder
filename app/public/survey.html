<!DOCTYPE html>
<html>
<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<title>Survey</title>
</head>
<body>
	<div class="container">
		<div>Survey Questions</div>
		<h3>About You</h3>
		<div>Name (Required)</div>
		<div class="input-group">
      		<input type="text" class="form-control" placeholder="Name..." id="name">
    	</div>
    	<div>Link to Photo Image (Required)</div>
      <div class="input-group">
          <input type="text" class="form-control" placeholder="Picture Link..." id="picture-link">
      </div>
    	<h3>You respect other people's space when they need it</h3>
      <select class="dropDown" id="q1">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You anger easily</h3>
      <select class="dropDown" id="q2">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You like to talk out your problems</h3>
      <select class="dropDown" id="q3">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You cannot stand awkward silences</h3>
      <select class="dropDown" id="q4">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You trust others</h3>
      <select class="dropDown" id="q5">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You're generally an energetic person</h3>
      <select class="dropDown" id="q6">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You're stubborn</h3>
      <select class="dropDown" id="q7">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You're spontaneous</h3>
      <select class="dropDown" id="q8">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You fight for what is right</h3>
      <select class="dropDown" id="q9">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<h3>You're selfish</h3>
      <select class="dropDown" id="q10">
        <option disabled selected>Select Option</option>
        <option value="1">1 (Strongly Disagree)</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5 (Strongly Agree)</option>
      </select>
    	<button type="button" class="btn btn-primary btn-lg btn-block" id="submit-button">Submit</button>
    	<div class="left api-links">
	      <a href="api/friendslist">API Friends List</a> | <a href="https://github.com/ernie45/Friend-Finder">GitHub Repo</a>
	    </div>
  </div>
  



  
	<script>
		$("document").ready(function(){
			$("#submit-button").on("click", function(event){
        event.preventDefault();

        /** Create space for data */
        var data = [];
        var scores = []; 

        /** Grab the name input into the input field */
        var name = $("#name").val().trim();
        /** Grab the picture input into the input field */
        var picture = $("#picture-link").val().trim(); 
        
        /** Grab hold of the user's answers to each question */
        /** Push each score into the scores array */
				var q1 = parseInt($("#q1").val().trim());
				scores.push(q1);
				var q2 = parseInt($("#q2").val().trim());
				scores.push(q2);
				var q3 = parseInt($("#q3").val().trim());
				scores.push(q3);
				var q4 = parseInt($("#q4").val().trim());
				scores.push(q4);
				var q5 = parseInt($("#q5").val().trim());
				scores.push(q5);
				var q6 = parseInt($("#q6").val().trim());
				scores.push(q6);
				var q7 = parseInt($("#q7").val().trim());
				scores.push(q7);
				var q8 = parseInt($("#q8").val().trim());
				scores.push(q8);
				var q9 = parseInt($("#q9").val().trim());
				scores.push(q9);
        var q10 = parseInt($("#q10").val().trim());
        
        /** Refer to all the dropDowns */
        /** These are the ones that show the user's options to answer */
        var dropDowns = $(".dropDown");
        /** This application should make sure that name and picture are definitely provided*/
        /** If either name, or picture fields are empty */
        if ($("#name").val().trim === "" || $("#picture-link") === ""){
          /** Let the user know to input name and/or picture */
          alert("Please fill out the entire form before submitting");
          /** Return to beginning of application */
          return;
        }

        /** If both name and picture are provided*/
        /** Traverse the length of the dropDowns */
        /** Since there are 10 dropDowns in this page, then length is 10 */
        for (var i = 0; i < dropDowns.length; i++){
          /** And if for the current dropDown element's selected value is "Select Option" */
          /** In other words, if the user hasn't selected an option */
          if (dropDowns[i].options[dropDowns[i].selectedIndex].value === "Select Option"){
            /** Let the user know to provide an answer */
            alert ("Please fill out the entire form before submitting");
            break;
          }
        }
        $.ajax("api/friends", {
          type: "POST",
          data: {name: name, picture: picture, scores: scores}
        }).then(function(){
          console.log("You suck");
        });
			});
		});
	</script> 
</body>
</html>